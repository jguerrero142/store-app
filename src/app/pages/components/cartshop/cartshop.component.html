
<div *ngIf="auth.loggedIn" (click)="showModal()">
    <nz-badge class="bag" [nzCount]="service.count">
    </nz-badge>
    
    <button mat-icon-button class="btn-cart cursor-pointer bg-red-600">
        
        <mat-icon class="flex items-center" aria-hidden="false" aria-label="Example home icon">shopping_cart</mat-icon>
    </button>
</div>

<nz-modal
      [(nzVisible)]="isVisible"
      [nzTitle]="modalTitle"
      [nzContent]="modalContent"
      [nzFooter]="modalFooter"
      (nzOnCancel)="handleCancel()"
    >
      <ng-template #modalTitle>Total Pedido - <nz-tag class="ml-1" [nzColor]="'#87d068'">{{service.total| currency}}</nz-tag>
       </ng-template>

      <ng-template #modalContent>
          <div>
            
            <nz-table #basicTable nzTemplateMode  [nzBordered]="true">
                <thead >
                  <tr>
                    <th >Producto</th>
                    <th >Valor</th>
                    <th ></th>
                  </tr>
                </thead>
                <tbody >
                  <tr *ngFor="let data of productos;index as i">
                    <td >{{ data.name }}</td>
                    <td ><nz-tag [nzColor]="'gold'">{{ data.valor | currency }}</nz-tag></td>
                    <td >
                      <button class="flex rounded-full justify-center items-center " nz-button
                        nzType="primary" (click)="deleteItem(i)">
                        <i class="far fa-trash-alt"></i>
                      </button>
                      
                    </td>
                  </tr>
                </tbody>
              </nz-table>
          </div>
        
      </ng-template>

      <ng-template #modalFooter>
        <mat-slide-toggle class="m-3" (click)="setService()" [(ngModel)]="serviceMode">Domicilio</mat-slide-toggle>
        <button nz-button nzType="primary" (click)="setPedido()" [nzLoading]="isConfirmLoading">Confirmar</button>
      </ng-template>
    </nz-modal>

