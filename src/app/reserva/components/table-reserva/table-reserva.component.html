<ng-container *ngIf="service.reserva.length == 0; else table">
  <div class="flex justify-center content-center m-12">
    <nz-spin class="mr-6" nzSimple [nzSize]="'large'"></nz-spin>
    <div nz-typography><h5>Esperando reservas...</h5></div>
    
  </div>
</ng-container>

<ng-template #table>
<nz-table class="w-full" nzTemplateMode [nzPageSize]="10" [nzBordered]="true" >
    <thead>

            <tr>
                <th class="w-10 p-1"></th>
                <th class="text-center"># Pedido</th>
                <th class="text-center">Valor</th>
                <th class="text-center">Servicio</th>
                <th class="w-10"></th>
            </tr>
    </thead>
    <tbody >
            <ng-container *ngFor="let data of service.reserva;index as i" >
                  <tr>
                        <td [nzExpand]="expandSet.has(data.id_pedido)"
                        (nzExpandChange)="onExpandChange(data, $event)"
                        ></td>
                        <td class="text-center" ># {{ data.id_pedido }}</td>
                        <td class="text-center">{{ (data.valor | currency) }}</td>
                        <td class="text-center justify-center" *ngIf = "!data.servicio" ><mat-icon>store</mat-icon></td>
                        <td class="text-center justify-center" *ngIf = "data.servicio" ><mat-icon>delivery_dining</mat-icon></td>
                        <td class="w-10 p-0 ml-0 justify-center">
                        <a class="flex h-6 w-6 rounded-full justify-center items-center p-0 " 
                          nz-popconfirm
                          nzPopconfirmTitle="Deseas Cancelar la Reserva?"
                          nzPopconfirmPlacement="bottom"
                          (nzOnConfirm)="deletItem(i, data.id_pedido)"
                          (nzOnCancel)="cancel()">
                          <i class="far fa-trash-alt p-0"></i>
                        </a>
                       </td>
                 </tr>
                    <tr [nzExpand]="expandSet.has(data.id_pedido)">
                      
                      <div class="flex">
                        <nz-table class="w-full" #basicTable [nzBordered]="true" nzTemplateMode [nzFrontPagination]="false" [nzData]="ticket">
                          <thead>
                            <tr>
                              <th class="w-32 text-center">Producto</th>
                              <th class="w-32 text-center">Valor</th>
                              <th class="w-32 text-center">Descripcion</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let data of basicTable.data">
                              <td class="w-32 text-center">{{ data.name }}</td>
                              <td class="w-32 text-center">{{ data.valor | currency }}</td>
                              <td class="w-32 text-center">{{ (data.create_at | date) }}</td>
                            </tr>
                          </tbody>
                        </nz-table>
                      </div>
                      
                    </tr>

            </ng-container>
        
    </tbody>

</nz-table>

</ng-template>
